<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Casino</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
  <script src="./js/casinojs.js"></script>
</head>

<body>

  <div class="container text-center">


    <h2> Current jackpot: Â£50000</h2>
    <h1 id=number>Welcome to Genie Jackpot!</h1>
    <button id=button type="button" name="button">Spin</button>
    <button id=bet type="button" name="button">Bet</button>
    <h2 id=current_bet>Current bet 0</h2>
    <button id=special type="button" name="button"></button>
    <h2>Bankroll 0</h2>
    <h2>Deposit</h2>




  </div>






  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script>
    /* function to generate an array */

    function range(start, end) {
      return Array(end - start + 1).fill().map((_, idx) => start + idx)
    }


    /*jackpot, if this variable is generated, you hit the jackpot*/
    var jackpot = "99999"; // 50000 bet multiplier  (jackpot icon visible in the corner, with each spin increase bet multiplier function)

    var smallwin = range(1, 8000); // 1.5 bet multiplier  8% chance to win a spin  (1 clients bet will use 4 spins)

    var bigwin = range(25000, 30000); // 10 bet multiplier  5% chance to win

    var extraspin = range(40000, 42000); // extra 20 spins, this will be a special feature, 20 auto spins with the special random multiplicator

    var bankroll = 0 // current bankroll, player needs to make a deposit before playing, after successful deposit will be able to adjust the size of the bet which will affect the maximum winning multiplier.

    /*function to generate random number*/

    function randomnumber() {


      var startTime = new Date().getTime();
      var interval = setInterval(function() {
        if (new Date().getTime() - startTime > 5000) {
          clearInterval(interval);
          alert("No win this time");
          return;
        }
        var result = Math.floor(Math.random() * 100000);
        document.getElementById("number").innerHTML = result;
        if (result === jackpot) {
          clearInterval(interval);
          alert("jackpot");
        } else if (extraspin.includes(result)) {
          document.getElementById("special").innerHTML = "Your extra spin! Click here!";
          clearInterval(interval);
        } else if (bigwin.includes(result)) {
          alert("big win!!")
          clearInterval(interval);
        } else if (smallwin.includes(result)) {
          alert("small win")
          clearInterval(interval);
        };

      }, 1000);
    }

    /*jquery function to activate spin once button is clicked*/

    $(document).ready(function() {
      $('#button').click(function() {
        randomnumber();
      });
    });

    /*betsize, bet size will affect winnings*/

    function betsize() {
      var size = prompt("Please enter your bet");

      if (size != null) {
        document.getElementById("current_bet").innerHTML = ("Current bet" + " " + size);
      }
    }

    /*jquery to activate bet function once button bet clicked*/

    $(document).ready(function() {
      $('#bet').click(function() {
        betsize();
      });
    });
  </script>

</body>

</html>
